<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
</head>
<body>


<section class="content" th:fragment="Dashboard">

    <div class="container-fluid">

        <div class="panel panel-headline">
            <div class="panel-body" th:if="${currentUserGoal==null}">
                <h1>CEL: </h1>
                <!--IF USER DOESN'T HAVE GOAL SET-->
                <!--<div th:if="${currentUserGoal==null}">-->
                <h3>Nie ustawiłeś jeszcze żadnego celu, możesz zrobić to teraz</h3>
                <p>(Kliknij "Dodaj cel")</p>
                <a th:href="@{/addGoal}" class="btn btn-primary">
                    <i class="fa fa-plus"></i>
                    <span>Dodaj cel</span>
                </a>
            </div>
            <!--IF USER HAVE GOAL SET-->
            <div th:if="${currentUserGoal!=null}"
                 th:style="'background-image:url(' + @{'/assets/img/categories/'+${currentUserGoal.category.name}+'.jpg'} + ');background-size:cover; background-position:center; height:350px'">
                <div class="panel-body">
                    <div class="goal-body">
                        <h1>CEL: </h1>
                        <h1 th:text="${currentUserGoal.name}"></h1>
                        <p th:text="${currentUserGoal.category.name}"></p>
                        <a th:onclick="'javascript:moveTo(\'' + @{/editGoal?id=}+${currentUserGoal.id_goal} + '\')'"
                           class="btn btn-primary">
                            <i class="fa fa-edit"></i>
                            <span>Edytuj</span>
                        </a>
                        <a th:onclick="'javascript:moveTo(\'' + @{/deleteGoal?id=}+${currentUserGoal.id_goal} + '\')'"
                           class="btn btn-primary">
                            <i class="fa fa-trash"></i>
                            <span>Usuń</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid" th:if="${currentUserGoal!=null}">
        <div class="progress">
            <div class="progress-bar" role="progressbar" aria-valuenow="70"
                 aria-valuemin="0" aria-valuemax="100" style="width:70%;" th:text="${currentUserGoal.value}">
            </div>
        </div>
    </div>
    <div class="container-fluid" th:if="${currentUserGoal!=null}">
        <div class="row">
            <div class="col-md-2">
                <div class="metric user-panel">
                    <span class="panel-icon"><i class="ion ion-arrow-graph-up-right"></i></span>
                    <p>
                        <span class="panel-title">POSTĘP</span>
                        <span class="panel-value"
                              th:text="${currentUserFinances.current_state_to_goal+' / '+ currentUserGoal.value}"></span>
                    </p>
                </div>
            </div>
            <div class="col-md-2">
                <div class="metric user-panel">
                    <span class="panel-icon"><i class="ion ion-cash"></i></span>
                    <p>
                        <span class="panel-title">STAN KONTA</span>
                        <span class="panel-value" th:text="${currentUserFinances.account_balance}"></span>
                    </p>
                </div>
            </div>
            <div class="col-md-2 ">
                <div class="metric user-panel">
                    <span class="panel-icon"><i class="ion ion-android-time"></i></span>
                    <p>
                        <span class="panel-title">SZACOWANY CZAS</span>
                        <span class="panel-value">37 DNI</span>
                    </p>
                </div>
            </div>
            <div class="col-md-2">
                <div class="metric user-panel">
                    <span class="panel-icon"><i class="ion ion-folder"></i></span>

                    <p>
                        <span class="panel-title">LOREM IPSUM</span>
                        <span class="panel-value">XXXS</span>
                    </p>

                </div>
            </div>
            <div class="col-md-2" th:onclick="'javascript:moveTo(\'' + @{/addIncome} + '\')'">
                <div class="metric income-panel">
                    <p class="panel-button">
                        <span class="panel-icon"><i class="ion ion-plus"></i></span>

                        <span class="panel-title-button">DODAJ</span>
                        <span class="panel-value-button">PRZYCHÓD</span>
                    </p>
                </div>
            </div>

            <div class="col-md-2" th:onclick="'javascript:moveTo(\'' + @{/addExpenses} + '\')'">
                <div class="metric extense-panel">
                    <p class="panel-button">
                        <span class="panel-icon"><i class="ion ion-minus"></i></span>

                        <span class="panel-title-button">ODEJMIJ</span>
                        <span class="panel-value-button">WYDATEK</span>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid" th:if="${currentUserGoal!=null}">
        <div class="row">

            <div class="col-md-6">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <h4>Stały dochód:</h4>
                    </div>
                    <div class="stable-income">
                        <div class="panel-body">
                            <div class="col-md-12">
                            </div>
                            <div class="col-md-6">

                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="panel">
                    <div class="panel-heading clearfix">
                        <div class="btn-group btn-group-justified">
                            <a data-toggle="tab" href="#income" class="btn btn-success">Przychody</a>
                            <a data-toggle="tab" href="#expenses" class="btn btn-danger">Wydatki</a>
                            <a data-toggle="tab" href="#expensesAndIncomes" class="btn btn-warning">Wszystkie</a>
                        </div>
                    </div>
                    <div class="tab-content">
                        <div class="all-income tab-pane fade in active" id="income">
                            <div class="panel-body">
                                <table class="table table-striped table-bordered" cellspacing="0" width="100%">
                                    <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>NAZWA</th>
                                        <th>TYP</th>
                                        <th>WARTOŚĆ</th>
                                        <th>DATA</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:each="income : ${lastIncomeList}">
                                        <td th:text="${income.id_income}"></td>
                                        <td th:text="${income.name}"></td>
                                        <td th:text="${income.type}"></td>
                                        <td th:text="${income.value}"></td>
                                        <td th:text="${income.date.toString()}"></td>
                                        <!--<td th:text="${income.date.toString()}"></td>-->
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="all-income tab-pane fade" id="expenses">
                            <div class="panel-body">
                                <table class="table table-striped table-bordered" cellspacing="0"
                                       width="100%">
                                    <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>TYP</th>
                                        <th>WARTOŚĆ</th>
                                        <th>NAZWA</th>
                                        <th>DATA</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:each="expense : ${lastExpensesList}">
                                        <td th:text="${expense.idExpenses}"></td>
                                        <td th:text="${expense.name}"></td>
                                        <td th:text="${expense.type}"></td>
                                        <td th:text="${expense.value}"></td>
                                        <td th:text="${expense.date.toString()}"></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="all-income tab-pane fade" id="expensesAndIncomes">
                            <div class="panel-body">
                                <table class="table table-striped table-bordered" cellspacing="0"
                                       width="100%">
                                    <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th></th>
                                        <th>TYP</th>
                                        <th>WARTOŚĆ</th>
                                        <th>NAZWA</th>
                                        <th>DATA</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:each="incomeAndExpense : ${incomesAndExpensesTogether}">
                                        <td th:text="${incomeAndExpense.id}"></td>
                                        <td><div><span th:if="${incomeAndExpense.isIncome()}">PRZYCHÓD</span><span th:if="${!incomeAndExpense.isIncome()}">WYDATEK</span></div></td>
                                        <td th:text="${incomeAndExpense.name}"></td>
                                        <td th:text="${incomeAndExpense.type}"></td>
                                        <td th:text="${incomeAndExpense.value}"></td>
                                        <td th:text="${incomeAndExpense.date.toString()}"></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
</body>
<script>
</script>
</html>